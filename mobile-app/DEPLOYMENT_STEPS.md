# Mobile App Deployment Steps

This document provides detailed steps for deploying the mobile app to production so users can download and install it.

## Prerequisites

1. Expo account (jaymuthui)
2. EAS CLI installed (`npm install -g eas-cli`)
3. Google Play Developer Account (for Android publishing)
4. Apple Developer Account (for iOS publishing)
5. Proper app icons and splash screens in the assets folder

## 1. Configure App for Production

Update `app.json` with production settings:

```json
{
  "expo": {
    "name": "Jay's Phone Repair",
    "slug": "jays-phone-repair",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "userInterfaceStyle": "automatic",
    "splash": {
      "image": "./assets/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#3b82f6"
    },
    "ios": {
      "supportsTablet": true,
      "bundleIdentifier": "com.jaysphonerepair.app",
      "buildNumber": "1.0.0"
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/adaptive-icon.png",
        "backgroundColor": "#3b82f6"
      },
      "package": "com.jaysphonerepair.app",
      "versionCode": 1
    },
    "web": {
      "favicon": "./assets/favicon.png"
    }
  }
}
```

## 2. Set Up EAS for Building

Update `eas.json` for production builds:

```json
{
  "cli": {
    "version": ">= 13.2.0"
  },
  "build": {
    "development": {
      "developmentClient": true,
      "distribution": "internal"
    },
    "preview": {
      "distribution": "internal",
      "android": {
        "buildType": "apk"
      }
    },
    "production": {
      "android": {
        "buildType": "app-bundle"
      },
      "ios": {
        "buildType": "app-store"
      }
    }
  },
  "submit": {
    "production": {
      "android": {
        "serviceAccountKeyPath": "../path/to/api-key.json",
        "track": "internal"
      },
      "ios": {
        "ascAppId": "1234567890"
      }
    }
  }
}
```

## 3. Build Production Apps

### Log in to Expo:
```bash
eas login
```

### Build for Android (AAB for Play Store):
```bash
eas build -p android --profile production
```

### Build for iOS (IPA for App Store):
```bash
eas build -p ios --profile production
```

### Build APK for direct download:
```bash
eas build -p android --profile preview
```

## 4. Web Deployment

### Build the web version:
```bash
expo export:web
```

This creates a `dist` folder with the web build.

### Deploy to hosting platform:
1. Copy the contents of the `dist` folder
2. Deploy to your preferred hosting platform (Vercel, Netlify, GitHub Pages)

## 5. Update Homepage Download Links

Update the download links in `src/components/homepage/DownloadAppSection.tsx` with actual URLs:

1. Android APK link - Point to the actual APK file location
2. iOS App Store link - Point to the actual App Store listing
3. Expo Go link - Point to your Expo project

## 6. App Store Submission

### For Google Play Store:
1. Create application listing in Google Play Console
2. Upload the AAB file generated by EAS
3. Fill in app details, screenshots, and descriptions
4. Submit for review

### For Apple App Store:
1. Create application listing in App Store Connect
2. Upload the IPA file generated by EAS
3. Fill in app details, screenshots, and descriptions
4. Submit for review

## 7. Testing Installation Process

Before going live, test the complete installation process:

1. Visit the homepage from a mobile device
2. Click the Android/iOS download button
3. Verify the app downloads and installs correctly
4. Test all major app features

## 8. Post-Deployment Monitoring

1. Monitor app performance and crashes using Expo's built-in monitoring
2. Collect user feedback
3. Plan regular updates with new features
4. Use Expo OTA updates for minor bug fixes

## Troubleshooting Common Issues

### Build Failures:
- Check Expo logs for specific error messages
- Ensure all dependencies are properly installed
- Verify app configuration in app.json

### Installation Issues:
- Ensure proper app signing for both platforms
- Check device compatibility requirements
- Verify all required permissions are declared

### Runtime Issues:
- Check console logs for JavaScript errors
- Verify Supabase connection settings
- Ensure all environment variables are properly configured

## Support Resources

- Expo Documentation: https://docs.expo.dev/
- EAS Build Documentation: https://docs.expo.dev/build/introduction/
- Google Play Console: https://play.google.com/console
- App Store Connect: https://appstoreconnect.apple.com/